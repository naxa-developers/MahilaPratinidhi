{% extends 'public/public_base.html' %}
{% load staticfiles %}
{% block upper_content %}
<body>
    <header>
        <div class="navigation innerPage">
            <div class="container-fluid">
{% endblock %}
{% block lower_content %}
            </div>
        </div>
    </header>
    <style>
        span.tt-dropdown-menu {
    background: white;
        left: 12px;
        width:100%;
    border-radius: 12px;
    background-color: white;
    border: 3px solid #AAAAAA;
}
    </style>
    <section class="darkBg">

        <div class="container">
            <div class="selectHolder">
                <div class="leader searchP">


                    <div id="the-basics">
                        <input class="typeahead" type="text" placeholder="SEARCH YOUR LEADER">
                    </div>

                </div>
            </div>
            <p class="searchText ste"> Lorem ipsum, dolor sit amet consectetur adipisicing elit. Laboriosam a tenetur itaque, nobis ut fuga qui iusto
                facilis expedita in quos aut dolor magni ratione rerum libero ex assumenda minima neque eius. Quas incidunt
                sunt atque impedit nostrum ullam eveniet similique. Labore reprehenderit necessitatibus quos laborum dolor
                in quae consequatur. </p>
            <div class="clearfix"></div>

            <div id="exTab3" class="container">
                <ul class="nav nav-pills row">
                    <li class=" col-md-3">
                        <a href="#1b" data-toggle="tab" class="active" id="national">
                            <div class="limgHolder">
                                <img src="{% static 'public/image/city-hall1.svg' %}" alt="">


                            </div>
                            <div class="text-center tabtext">
                                NATIONAL
                                <br/> ASSEMBLY
                            </div>

                        </a>
                    </li>
                    <li class="active col-md-3">
                        <a href="#2b" data-toggle="tab" id="federal">
                            <div class="limgHolder">
                                <img src="{% static 'public/image/elementary-school1.svg' %}" alt="">


                            </div>
                            <div class="text-center tabtext">
                                FEDERAL
                                <br/> PARLIAMENT
                            </div>

                        </a>
                    </li>
                    <li class="active col-md-3">
                        <a href="#3b" data-toggle="tab" id="provincial">
                            <div class="limgHolder">
                                <img src="{% static 'public/image/parliament1.svg' %}" alt="">


                            </div>
                            <div class="text-center tabtext">

                                PROVINCIAL
                                <br/> ASSEMBLY
                            </div>

                        </a>
                    </li>
                    <li class="active col-md-3">
                        <a href="#4b" data-toggle="tab" id="local">
                            <div class="limgHolder">
                                <img src="{% static 'public/image/government1.svg' %}" alt="">


                            </div>
                            <div class="text-center tabtext">
                                LOCAL LEVEL
                                <br/> GOVERNMENT
                            </div>

                        </a>
                    </li>

                </ul>

                <div class="tab-content clearfix">
                    <div class="tab-pane active" id="1b">
                        <div class="linkItem row">
                                {% for item in rastriyas %}
                                <a href="{% url 'public:national_detail' item.pk %}">
                                        {% if item.image %}
                                        <div class="item1 col" style="background-image:url({{ item.image.url }}) no-repeat;">
                                        {% else %}
                                        <div class="item1 col" style="background:url(/static/public/image/maskimg.jpg) no-repeat;">
                                            {% endif %}
                                    <p class="provienceHeading">
                                        {{ item.name }}
                                    </p>
                                </div>
                                </a>
                                {% endfor %}
                        </div>
                    </div>
                    <div class="tab-pane" id="2b">
                        <div class="linkItem row">
                            {% for item in pratinidhis %}
                            <a href="{% url 'public:pratinidhi_detail' item.pk %}">
                                    {% if item.image %}
                                    <div class="item1 col" style="background-image:url({{ item.image.url }}) no-repeat;">
                                    {% else %}
                                    <div class="item1 col" style="background:url(/static/public/image/maskimg.jpg) no-repeat;">
                                        {% endif %}
                                <p class="provienceHeading">
                                    {{ item.name }}
                                </p>
                            </div>
                            </a>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="tab-pane" id="3b">
                        <div class="linkItem row">
                            {% for item in provinces %}
                            <a href="{% url 'public:explore_province' item.pk %}">
                            <div class="item1 col" style="background:url(/static/public/image/maskimg.jpg) no-repeat;">
                                <p class="provienceHeading">
                                    {{ item.name }}
                                </p>
                            </div>
                            </a>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="tab-pane" id="4b">
                        <div class="linkItem row">
                            
                            {% for district in districts %}
                            <a href="{% url 'public:explore_district' district.pk %}">
                            <div class="item1 col" style="background:url(/static/public/image/maskimg.jpg) no-repeat;">
                                <p class="provienceHeading">
                                    {{ district.name|upper }}
                                </p>
                            </div>
                        
                        </a>

                            {% endfor %}
                      </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    {% endblock %}

    {% block scripts %}
<!--for search-->
    <script>
        $(document).ready(function () {

            $('input.typeahead').typeahead({
              local: {{ names|safe }}
            }).on('typeahead:selected', function(event, selection) {

              // the second argument has the info you want
              <!--alert(selection.value);-->
              window.location.href="{% url 'public:name_search'}"

              // clearing the selection requires a typeahead method
              $(this).typeahead('setQuery', '');
            });


            <!--var substringMatcher = function(strs) {-->
              <!--return function findMatches(q, cb) {-->
                <!--var matches, substringRegex;-->

                <!--// an array that will be populated with substring matches-->
                <!--matches = [];-->

                <!--// regex used to determine if a string contains the substring `q`-->
                <!--substrRegex = new RegExp(q, 'i');-->

                <!--// iterate through the pool of strings and for any string that-->
                <!--// contains the substring `q`, add it to the `matches` array-->
                <!--$.each(strs, function(i, str) {-->
                  <!--if (substrRegex.test(str)) {-->
                    <!--matches.push(str);-->
                  <!--}-->
                <!--});-->

                <!--cb(matches);-->
              <!--};-->
            <!--};-->

            <!--var states = {{ names|safe }}-->

            <!--$('#the-basics .typeahead').typeahead({-->
              <!--hint: true,-->
              <!--highlight: true,-->
              <!--minLength: 1-->
            <!--},-->
            <!--{-->
              <!--name: 'states',-->
              <!--source: substringMatcher(states)-->
            <!--});-->
            <!--$("#button").click(function () {-->
                <!--$('html, body').animate({-->
                    <!--scrollTop: $("#myDiv").offset().top-->
                <!--}, 2000);-->
            <!--});-->
        <!--});-->

         <!--$('.typeahead').on('click', function(){-->
            <!--console.log("RED");-->
         <!--});-->

        <!--$('.typeahead').on('click', '.tt-menu', function(){-->
        <!--console.log("clicked");-->
            <!--var string= $(this).value();-->
            <!--console.log(string);-->

});
        <!--});-->
        var clicked = "{{ clicked }}";

        if(clicked == "national" || clicked == "general"){
            $("#nation").click();
            $("#nation").addClass("active");
        }

        else if(clicked == 'federal'){
            var elems = document.querySelectorAll(".active");
            [].forEach.call(elems, function(el) {
                el.classList.remove("active");
            });
            $("#federal").click();
            $("#federal").addClass("active");
        }

        else if(clicked == "provincial"){
            var elems = document.querySelectorAll(".active");
            [].forEach.call(elems, function(el) {
                el.classList.remove("active");
            });
            $("#provincial").click();
            $("#provincial").addClass("active");
            
        }

        else if(clicked == "local"){
            var elems = document.querySelectorAll(".active");
            [].forEach.call(elems, function(el) {
                el.classList.remove("active");
            });
            $("#local").click();
            $("#local").addClass("active");   
        }

    </script>
    {% endblock %}